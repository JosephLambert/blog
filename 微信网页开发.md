## 微信网页开发样式库WeUI

**是什么**

WeUI 是一套同微信原生视觉体验一致的基础样式库，由微信官方设计团队为微信内网页开发量身设计，可以令用户的使用感知更加统一。

**使用**

HTML 页面引入css 文件即可：`<link rel="stylesheet" href="path/to/weui/dist/style/weui.min.css"/>  `

**组件**

[所有组件示范](https://weui.io)

组件举例：

- button
- cell：将信息以列表的结构显示在页面上
- dialog：类似模态窗
- progress：进度条
- toast：成功或失败的数秒后消失的提示信息
- msg page：重要的总结性页面
- article：图文展示
- actionlist：由底部弹出，一般用于响应用户对页面的点击，包含一系列可交互的动作集合
- icon



## 微信 JS-SDK

**是什么**

微信JS-SDK是微信公众平台面向网页开发者提供的基于微信内的网页开发工具包。

通过使用微信JS-SDK，网页开发者可借助微信高效地使用拍照、选图、语音、位置等手机系统的能力，同时可以直接使用微信分享、扫一扫、卡券、支付等微信特有的能力，为微信用户提供更优质的网页体验。

**使用**

1. 微信公众平台设置绑定域名
2. HTML 页面引入 JS 文件
3. 通过 config 接口注入权限验证配置
   - 所有需要使用JS-SDK的页面必须先注入配置信息，否则将无法调用
   - 同一个url仅需调用一次
   - 设计签名算法，签名应在服务器生成
4. 通过 ready 接口处理成功验证
   -  config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后
   - 如果需要在页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行
   - 对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中
5. 通过error接口处理失败验证

**接口功能类型**

[接口示范](http://demo.open.weixin.qq.com/jssdk)

- 判断当前客户端是否支持 JS接口
- 分享接口：朋友圈、朋友、QQ、QQ 空间、腾讯微博
- 图像接口：拍照或从相册选图、预览图片、上传图片、下载图片
- 音频接口：开始录音、停止录音、监听录音自动停止、播放语音、暂停播放、停止播放、监听语音播放完毕、上传语音、下载语音
- 识别语音并返回结果接口
- 获取网络状态接口
- 地理位置接口：获取地理位置、微信内置地图查看位置
- 界面操作：隐藏|显示菜单|按钮、关闭页面
- 微信扫一扫
- 微信小店
- 微信卡券
- 微信支付

**config 接口中的签名算法**

1. 通过接口获取access_token
2. 用access_token通过接口获取jsapi_ticket，jsapi_ticket是公众号用于调用微信JS接口的临时票据
3. 生成JS-SDK权限验证的签名
   1. 对所有待签名参数按照字段名的ASCII 码从小到大排序（字典序），参与签名的字段包括noncestr（随机字符串）, 有效的jsapi_ticket, timestamp（时间戳）, url（当前网页的URL，不包含#及其后面部分，不进行URL 转义）
   2. 使用URL键值对的格式（即key1=value1&key2=value2…）拼接成字符串string1
   3. 对string1进行sha1签名，得到signature



## 微信 web 开发者工具

**是什么**

为帮助开发者更方便、更安全地开发和调试基于微信的网页，微信官方推出了 web 开发者工具。它是一个桌面应用，通过模拟微信客户端的表现，使得开发者可以使用这个工具方便地在 PC 或者 Mac 上进行开发和调试工作。

**使用**

1. 下载开发者工具
2. 公众号平台设置绑定认证过的开发者微信号

**调试**

1. 微信网页授权

2. 调试、检验页面的 JS-SDK 相关功能与权限，模拟大部分 SDK 的输入和输出

3. 移动调试以及屏幕映射

4. 利用集成的 Chrome DevTools 协助开发